<div class="container mt-5">
  <h2 class="main-title mb-4">All Orders</h2>

  <table class="table table-hover table-bordered flower-table shadow-sm">
    <thead class="table-header text-center">
      <tr>
        <th>#</th>
        <th>User Name</th>
        <th>Phone</th>
        <th>Recipient</th>
        <th>Payment</th>
        <th>Date</th>
        <th>Total Price</th>
        <th>Status</th>
        <th>Products</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let order of orders; let i = index" class="text-center">
        <td>{{ i + 1 }}</td>
        <td>{{ order.username }}</td>
        <td>{{ order.phoneNumber }}</td>
        <td>{{ order.recipientName }}</td>
        <td>{{ order.paymentMethod }}</td>
        <td>{{ order.date | date: 'short' }}</td>
        <td>{{ order.totalPrice }} JD</td>

        <td>
          <select class="form-select" [(ngModel)]="order.status" (change)="updateStatus(order)"   [ngModelOptions]="{ standalone: true }">
            <option [ngValue]="'Placed'">Placed</option>
            <option [ngValue]="'On the Way'">On the Way</option>
            <option [ngValue]="'Delivered'">Delivered</option>
          </select>
        </td>
        <td>
          <select class="form-select">
            <option disabled selected>View Products</option>
            <option disabled *ngFor="let p of order.products">
              {{ p.name }} - Qty: {{ p.quantity }} - {{ p.price }} JD
            </option>
          </select>
        </td>
      </tr>
    </tbody>
  </table>
</div>


