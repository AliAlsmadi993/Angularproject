<p>profile works!</p>
<div class="container mt-5">
  <!--<div *ngIf="user; else noUser" class="card p-4 shadow-lg">-->
  <div *ngIf="user" class="card p-4 shadow-lg">
    <div *ngIf="user.Img">
      <img [src]="user.Img" alt="Profile Image" class="img-fluid" width="150" height="150">
    </div>
    <h2 class="text-center">Welcome, {{ user.Name }}!</h2>
    <p><strong>Email:</strong> {{ user.Email }}</p>
    <p><strong>PhoneNum:</strong> {{ user.PhoneNum }}</p>
    <p><strong>Gender:</strong> {{ user.Gender }}</p>
    <p><strong>VoucherId:</strong> {{ user.VoucherId }}</p>



  </div>
  <!--<button (click)="logout()" class="btn btn-danger">Logout</button>-->
</div>
<button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editProfileModal">
  Edit Profile
</button>


<div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editProfileLabel">Edit Profile</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form #editForm="ngForm" (ngSubmit)="updateProfile()">
          <div class="mb-3">
            <label class="form-label">Name</label>
            <input type="text" class="form-control" [(ngModel)]="editableUser.Name" name="Name" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" [(ngModel)]="editableUser.Email" name="Email" required>
          </div>
          <div class="mb-3">
            <label class="form-label">PhoneNum</label>
            <input type="number" class="form-control" [(ngModel)]="editableUser.PhoneNum" name="PhoneNum" required>
          </div>
          <!-- حفلة الصورة كلها بتبلش من هوون ان اننن -->
          <div class="container mt-5">
            <h2>Upload Your Profile Image</h2>

            <!-- اهون بختار الصورة -->
            <div class="mb-3">
              <input type="file" (change)="onImageSelected($event)" class="form-control" accept="image/*">
            </div>

            <!-- هون رح ارفع الصورة  -->
            <button (click)="selectedFile && uploadImage(selectedFile)" class="btn btn-primary mb-3" [disabled]="loading || !selectedFile">
              {{ loading ? 'Uploading...' : 'Upload Image' }}
            </button>


            <!-- هون بعرض الصورة الي اخترتها -->
            <div *ngIf="uploadedImageUrl" class="mt-3">



              <div class="mt-2">
                <img [src]="uploadedImageUrl" alt="Uploaded Image" class="img-thumbnail" width="200">
              </div>
            </div>
          </div>


          <button type="submit" class="btn btn-success">Save Changes</button>
        </form>
      </div>
    </div>
  </div>
</div>
